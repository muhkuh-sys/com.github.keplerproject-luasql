--- mysql-5.7.15_org/include/my_global.h	2016-08-25 13:52:06.000000000 +0200
+++ mysql-5.7.15/include/my_global.h	2016-09-08 12:18:10.159932092 +0200
@@ -348,7 +348,7 @@
 
 /* Some defines of functions for portability */
 
-#if (_WIN32)
+#if defined(_WIN32) && !defined(__MINGW32__) && !defined(__MINGW64__)
 #if !defined(_WIN64)
 inline double my_ulonglong2double(unsigned long long value)
 {
